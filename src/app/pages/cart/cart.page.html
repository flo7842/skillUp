<ion-header>
	<ion-toolbar>
		<ion-title>Votre Panier</ion-title>
	</ion-toolbar>
</ion-header>
<ion-content fullscreen>
	<div class="ion-text-end">
		<ion-button (click)="close()" fill="clear" color="white">
			<ion-icon name="close" slot="start"></ion-icon>
		</ion-button>
	</div>
	<div class="ion-padding" *ngIf="cart.length !== 0; else elseBlock">
		<ion-list>
			<ion-item *ngFor="let product of cart" class="ion-text-wrap">
				<ion-grid>
					<ion-row class="ion-align-items-center">
						<ion-col size="4">
							<img [src]="product.image"/>
						</ion-col>
						<ion-col size="6">
							<b>{{ product.title }}</b>

							{{ product.amount * product.price }}€ + 20%
						</ion-col>
						
						<ion-col size="2" class="col-close">
							<ion-button
								color="medium"
								fill="clear"
								(click)="removeCartItem(product)"
							>
								<ion-icon name="close-circle" slot="icon-only"></ion-icon>
							</ion-button>
						</ion-col>	
					</ion-row>
					<ion-row class="title">	
					</ion-row>
				</ion-grid>
			</ion-item>
			<ion-item>
				<ion-grid>
					<ion-row class="row-total">
						<ion-col size="8"> Total: </ion-col>
						<ion-col size="4" class="ion-text-end" *ngIf="content.length > 0 else elseBlock">
							{{ getTotal() }} €
						</ion-col>
						<ng-template #elseBlock>0 €</ng-template>
					</ion-row>
				</ion-grid>
			</ion-item>
		</ion-list>
	</div>
	<ng-template #elseBlock>
		<h3 class="empty">Votre panier est vide</h3>
	</ng-template>
	<ion-button expand="full" (click)="checkout()" [disabled]="content.length == 0">PAYER</ion-button>
</ion-content>